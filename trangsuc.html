<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trang sức nhẫn | PNJ</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #fff;
      color: #002147;
    }
    header {
      background: linear-gradient(to right, #fff3d1, #ffe9bd);
      padding: 12px;
      text-align: center;
    }
    header img {
      height: 50px;
      max-width: 100%;
    }
    nav {
      background-color: #fff;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
      padding: 12px 0;
      border-top: 1px solid #eee;
      border-bottom: 1px solid #eee;
    }
    nav a {
      text-decoration: none;
      color: #002147;
      font-weight: bold;
      font-size: 1rem;
      padding: 4px 8px;
      border-radius: 4px;
      transition: background 0.2s;
    }
    .banner {
      position: relative;
      width: 900px;
      max-width: 98vw;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 24px rgba(180,140,62,0.08);
      background: #fff;
      margin: 0 auto 30px auto;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .banner img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      display: block;
      border-radius: 12px;
      background: #fff;
      max-width: 100%;
    }
    .subnav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      margin: 10px 0 20px 0;
    }
    .subnav button {
      border: 1px solid #002147;
      background-color: white;
      color: #002147;
      padding: 8px 12px;
      font-weight: bold;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
      transition: background 0.2s;
    }
    .subnav button:hover {
      background: #ffe9bd;
    }
    .filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin: 10px 0 20px 0;
    }
    .filters select {
      padding: 6px 10px;
      border-radius: 4px;
      border: 1px solid #eee;
      font-size: 13px;
      background: #fff;
      color: #002147;
      min-width: 110px;
    }
    .products {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      padding: 10px 30px 40px;
    }
    .product {
      width: 180px;
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
      text-align: center;
      padding: 15px;
      transition: box-shadow 0.2s;
      margin-bottom: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
    }
    .product:hover {
      box-shadow: 0 4px 12px rgba(180, 140, 62, 0.15);
    }
    .product img {
      width: 100%;
      height: auto;
      border-radius: 6px;
      max-width: 140px;
    }
    .product h3 {
      font-size: 15px;
      margin: 10px 0 5px;
      color: #002147;
      word-break: break-word;
    }
    .product p {
      font-size: 13px;
      color: #b48c3e;
      margin: 0 0 8px 0;
    }
    .product-details {
      display: none;
      background: #fffbe9;
      border-radius: 6px;
      padding: 10px;
      margin-top: 8px;
      box-shadow: 0 2px 8px rgba(180,140,62,0.08);
      width: 100%;
    }
    .buy-btn {
      display: inline-block;
      background: #005baa;
      color: white;
      border: none;
      padding: 8px 16px;
      margin-top: 8px;
      border-radius: 4px;
      cursor: pointer;
    }
    .buy-btn:hover {
      background: #004080;
    }
    #cart-icon {
      position:fixed;
      bottom:32px;
      right:32px;
      z-index:999;
      cursor:pointer;
    }
    #cart-icon img {
      width:48px;
      height:48px;
    }
    #cart-count {
      position:absolute;
      top:0;
      right:0;
      background:#b48c3e;
      color:#fff;
      border-radius:50%;
      padding:2px 8px;
      font-size:14px;
    }
    #cart-box {
      display:none;
      position:fixed;
      bottom:90px;
      right:32px;
      width:340px;
      max-width:95vw;
      background:#fff;
      border-radius:12px;
      box-shadow:0 4px 24px rgba(180,140,62,0.18);
      z-index:1000;
      overflow:hidden;
    }
    #cart-box .cart-header {
      background:#b48c3e;
      color:#fff;
      padding:12px;
      font-weight:bold;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }
    #cart-items {
      max-height:220px;
      overflow-y:auto;
      padding:10px;
    }
    #customer-form {
      padding:10px;
      border-top:1px solid #eee;
      background:#fff;
    }
    #customer-form input {
      width:100%;
      margin-bottom:8px;
      padding:6px;
      border-radius:4px;
      border:1px solid #eee;
      font-size:1rem;
    }
    #customer-form button {
      background:#b48c3e;
      color:#fff;
      border:none;
      padding:8px 16px;
      border-radius:6px;
      width:100%;
      font-weight:bold;
      cursor:pointer;
    }
    @media (max-width: 900px) {
      .banner {
        width: 100vw;
        margin: 0 auto 20px auto;
      }
      .banner img {
        height: 160px;
      }
      .products {
        gap: 12px;
        padding: 10px 8px 30px;
      }
      .product {
        width: 44vw;
        min-width: 140px;
        padding: 10px;
      }
      #cart-box {
        right:8px;
        width:98vw;
      }
      #cart-icon {
        right:8px;
      }
    }
    @media (max-width: 600px) {
      nav {
        gap: 10px;
        font-size: 0.95rem;
        padding: 8px 0;
      }
      .banner {
        width: 100vw;
        margin: 0 auto 12px auto;
      }
      .banner img {
        height: 110px;
        border-radius: 8px;
      }
      .subnav {
        gap: 5px;
        margin: 8px 0 12px 0;
      }
      .subnav button {
        font-size: 12px;
        padding: 6px 8px;
      }
      .filters {
        gap: 6px;
        margin: 8px 0 12px 0;
      }
      .filters select {
        font-size: 12px;
        min-width: 80px;
        padding: 4px 6px;
      }
      .products {
        gap: 8px;
        padding: 8px 2px 20px;
      }
      .product {
        width: 90vw;
        min-width: 120px;
        padding: 8px;
      }
      .product img {
        max-width: 100px;
      }
      .product h3 {
        font-size: 13px;
      }
      .product p {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <img src="https://cdn.pnj.io/images/logo/pnj.com.vn.png" alt="Logo PNJ">
  </header>

  <!-- Main Menu -->
  <nav>
    <a href="index.html">Trang Chủ</a>
    <a href="trangsuccuoi.html">Trang Sức Cưới</a>
    <a href="#">Đồng Hồ</a>
    <a href="#">Quà Tặng</a>
    <a href="#">Thương Hiệu</a>
    <a href="#">Blog</a>
    <a href="#">Khuyến Mãi</a>
  </nav>

  <!-- Banner -->
  <div class="banner">
    <img src="https://cdn.pnj.io/images/promo/235/1200x450-nhan-t01-25.jpg" alt="Banner Trang Sức Nhẫn">
  </div>

  <!-- Sub Navigation -->
  <div class="subnav">
    <button>Trang sức Đính Kim Cương</button>
    <button>Trang sức Đính ECZ</button>
    <button>Trang sức Đính Đá Quý và Bán Quý</button>
    <button>Trang sức Công Nghệ Ý</button>
    <button>Trang sức Đính Ngọc Trai</button>
    <button>Trang sức Đính CZ</button>
    <button>Trang sức Không Đính Đá</button>
    <button>Nhẫn cặp</button>
  </div>

  <!-- Bộ lọc -->
  <div class="filters">
    <select><option>Thương hiệu</option></select>
    <select><option>Giá</option></select>
    <select><option>Bộ sưu tập</option></select>
    <select><option>Tuổi vàng</option></select>
    <select><option>Loại đá chính</option></select>
    <select><option>Chất liệu</option></select>
    <select><option>Giới tính</option></select>
    <select><option>Loại trang sức</option></select>
    <select><option>Màu chất liệu</option></select>
  </div>

  <!-- Sản phẩm -->
  <div class="products">
    <div class="product" onclick="showDetails(this)">
      <img src="https://cdn.pnj.io/images/thumbnails/300/300/detailed/256/sp-gnddddc001972-nhan-kim-cuong-vang-14k-pnj-1.png" alt="Nhẫn Kim Cương Vàng 18K">
      <h3>Nhẫn Kim Cương Vàng 18K</h3>
      <p>Giá: 12.500.000đ</p>
      <div class="product-details">
        <p>Chất liệu: Vàng 18K</p>
        <p>Đính: Kim cương tự nhiên</p>
        <p>Trọng lượng: 3.5 chỉ</p>
        <button class="buy-btn" onclick="addToCart(event, this)">Mua ngay</button>
      </div>
    </div>
    <div class="product">
      <img src="https://cdn.pnj.io/images/thumbnails/300/300/detailed/256/sp-gnddddc001971-nhan-kim-cuong-vang-14k-pnj-1.png" alt="Nhẫn Đính Đá CZ">
      <h3>Nhẫn Bạc Đính CZ</h3>
      <p>Giá: 2.500.000đ</p>
      <button class="buy-btn" onclick="addToCart(event, this)">Mua ngay</button>
    </div>
    <div class="product">
      <img src="https://cdn.pnj.io/images/thumbnails/300/300/detailed/258/sp-gnddddw014103-nhan-kim-cuong-vang-trang-14k-pnj-1.png" alt="Nhẫn Vàng Ý">
      <h3>Nhẫn Công Nghệ Ý</h3>
      <p>Giá: 7.500.000đ</p>
      <button class="buy-btn" onclick="addToCart(event, this)">Mua ngay</button>
    </div>
    <div class="product">
      <img src="https://cdn.pnj.io/images/thumbnails/300/300/detailed/260/sp-gnxm00y005588-nhan-vang-10k-dinh-da-ecz-pnj-sunnyva-1.png" alt="Nhẫn Không Đính Đá">
      <h3>Nhẫn Vàng Trắng Không Đính Đá</h3>
      <p>Giá: 5.000.000đ</p>
      <button class="buy-btn" onclick="addToCart(event, this)">Mua ngay</button>
    </div>
    <div class="product">
      <img src="https://cdn.pnj.io/images/thumbnails/300/300/detailed/258/sp-gnddddw014680-nhan-kim-cuong-vang-trang-14k-pnj-sunnyva-1.png" alt="Nhẫn Cặp">
      <h3>Nhẫn Cặp Vàng 18K</h3>
      <p>Giá: 15.000.000đ</p>
      <button class="buy-btn" onclick="addToCart(event, this)">Mua ngay</button>
    </div>
  </div>

  <!-- Giỏ hàng nổi -->
  <div id="cart-icon" onclick="toggleCart()">
    <img src="https://cdn-icons-png.flaticon.com/512/263/263142.png" alt="Giỏ hàng">
    <span id="cart-count">0</span>
  </div>
  <div id="cart-box">
    <div class="cart-header">
      Giỏ hàng
      <span style="cursor:pointer;" onclick="toggleCart()">✖</span>
    </div>
    <div id="cart-items"></div>
    <form id="customer-form">
      <input type="text" id="customer-name" placeholder="Họ tên" required>
      <input type="text" id="customer-phone" placeholder="Số điện thoại" required>
      <input type="text" id="customer-address" placeholder="Địa chỉ" required>
      <button type="submit">Đặt hàng</button>
    </form>
  </div>
  <script>
    // Hiển thị chi tiết sản phẩm
    function showDetails(card) {
      const details = card.querySelector(".product-details");
      const allDetails = document.querySelectorAll(".product-details");
      allDetails.forEach(d => {
        if (d !== details) d.style.display = "none";
      });
      details.style.display = details.style.display === "block" ? "none" : "block";
    }

    // Giỏ hàng với lưu LocalStorage
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let customer = JSON.parse(localStorage.getItem('customer')) || null;

    function addToCart(event, btn) {
      event.stopPropagation();
      const product = btn.closest('.product');
      const name = product.querySelector('h3').innerText;
      const price = product.querySelector('p').innerText;
      const img = product.querySelector('img').src;
      cart.push({ name, price, img });
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      alert('Đã thêm vào giỏ hàng!');
    }

    function updateCartCount() {
      document.getElementById('cart-count').innerText = cart.length;
    }

    function toggleCart() {
      const cartBox = document.getElementById('cart-box');
      cartBox.style.display = cartBox.style.display === 'none' || cartBox.style.display === '' ? 'block' : 'none';
      renderCart();
      renderCustomer();
    }

    function renderCart() {
      const cartItems = document.getElementById('cart-items');
      cartItems.innerHTML = '';
      if (cart.length === 0) {
        cartItems.innerHTML = '<p>Giỏ hàng trống.</p>';
        return;
      }
      cart.forEach(item => {
        cartItems.innerHTML += `
          <div style="display:flex;align-items:center;margin-bottom:8px;">
            <img src="${item.img}" style="width:40px;height:40px;border-radius:6px;margin-right:8px;">
            <div>
              <div style="font-weight:bold;">${item.name}</div>
              <div style="color:#b48c3e;">${item.price}</div>
            </div>
          </div>
        `;
      });
    }

    function renderCustomer() {
      if (customer) {
        document.getElementById('customer-name').value = customer.name;
        document.getElementById('customer-phone').value = customer.phone;
        document.getElementById('customer-address').value = customer.address;
      } else {
        document.getElementById('customer-name').value = '';
        document.getElementById('customer-phone').value = '';
        document.getElementById('customer-address').value = '';
      }
    }

    document.getElementById('customer-form').onsubmit = function(e) {
      e.preventDefault();
      const name = document.getElementById('customer-name').value;
      const phone = document.getElementById('customer-phone').value;
      const address = document.getElementById('customer-address').value;
      customer = { name, phone, address };
      localStorage.setItem('customer', JSON.stringify(customer));
      alert(`Đặt hàng thành công!\nKhách hàng: ${name}\nSĐT: ${phone}\nĐịa chỉ: ${address}\nSản phẩm: ${cart.map(i=>i.name).join(', ')}`);
      cart = [];
      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      toggleCart();
    };

    // Khởi tạo lại số lượng giỏ hàng khi load trang
    updateCartCount();
  </script>
</body>
</html>